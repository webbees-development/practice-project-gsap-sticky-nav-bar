<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky Animated Nav Bar</title>
    <link rel="stylesheet" href="main.css">
  </head>

  <body>
    
    <header>
      <div class="wrapper">
        <a href="#" class="logo">yocompany</a>
        <nav>
          <ul>
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#">Products</a></li>
            <li><a href="#">Clients</a></li>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
        <a href="#" class="cta">Get a quote</a>
        <div class="mask">
          <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32"><path d="m357-384 123-123 123 123 57-56-180-180-180 180 57 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
        </div>
      </div>
      <div class="nav-bg"></div>
    </header>

    <section></section>

    <script src="https://unpkg.com/@studio-freight/lenis@1.0.40/dist/lenis.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" integrity="sha512-onMTRKJBKz8M1TnqqDuGBlowlH0ohFzMXYRNebz+yOcc5TQr/zAKsthzhuv0hiyUKEiQEQXEynnXCvNTOk50dg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    

    <script>
      const backToTop = document.querySelector('svg');

      gsap.set('.nav-bg', {
        backgroundColor: '#fff',
        opacity: 0,
      })

      gsap.set('svg', {
        yPercent: -100
      })

      const tl = gsap.timeline({
        scrollTrigger: {
          start: 'top+=200',
          end: '+=1',
          toggleActions: 'play none none reverse',
          scrub: 2
        }
      })

      tl
        .to('.nav-bg', {
          opacity: 1,
        })
        .to('svg', {
          yPercent: 0,
        })
        .to('.cta', {
          x: -50,
          backgroundColor: '#E9E9E9'
        }, '<')


      // smooth scroll
      const lenis = new Lenis()
      function raf(time) {
        lenis.raf(time)
        requestAnimationFrame(raf)
      }
      requestAnimationFrame(raf)

      // back to top
      backToTop.addEventListener('click', () => {
        lenis.scrollTo('top', {
          duration: 2,
          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t))
        })
      })
    </script>

  </body>
</html>